<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ads Manager Pro - Reino do Êxtase</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="brand">
                    <i class="fas fa-megaphone"></i>
                    <span>Ads Pro</span>
                </div>
                <button id="close-sidebar" class="mobile-only close-btn">&times;</button>
            </div>
            
            <nav class="sidebar-nav">
                <button class="nav-item active" data-page="dashboard">
                    <i class="fas fa-chart-line"></i>
                    <span>Dashboard</span>
                </button>
                <button class="nav-item" data-page="announcements">
                    <i class="fas fa-list"></i>
                    <span>Anúncios</span>
                </button>
                <button class="nav-item" data-page="create">
                    <i class="fas fa-plus-circle"></i>
                    <span>Novo Anúncio</span>
                </button>
                <button class="nav-item" data-page="settings">
                    <i class="fas fa-cog"></i>
                    <span>Configurações</span>
                </button>
            </nav>

            <div class="sidebar-footer">
                <div class="bot-status-card">
                    <div class="status-header">
                        <span>Status do Bot</span>
                        <span id="bot-online-dot" class="dot"></span>
                    </div>
                    <span id="bot-status-text" class="status-text">Offline</span>
                    <div class="status-info">
                        <small id="bot-last-ping">Último ping: --</small>
                    </div>
                </div>
            </div>
        </aside>

        <div id="sidebar-overlay" class="overlay"></div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="top-bar">
                <div class="left-actions">
                    <button id="open-sidebar" class="mobile-only menu-trigger">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h1 id="page-title">Dashboard</h1>
                </div>
                <div class="right-actions">
                    <div id="active-admins" class="active-admins"></div>
                    <div class="user-menu">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=admin" class="user-avatar" alt="Admin">
                    </div>
                </div>
            </header>

            <!-- Content Pages -->
            <div class="pages-container">
                <!-- Dashboard Page -->
                <div id="dashboard-page" class="page active">
                    <div class="dashboard-grid">
                        <!-- Stats Cards -->
                        <div class="stats-section">
                            <div class="stat-card">
                                <div class="stat-icon primary">
                                    <i class="fas fa-megaphone"></i>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-label">Total de Anúncios</div>
                                    <div class="stat-value" id="stat-total">0</div>
                                </div>
                            </div>

                            <div class="stat-card">
                                <div class="stat-icon success">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-label">Anúncios Ativos</div>
                                    <div class="stat-value" id="stat-active">0</div>
                                </div>
                            </div>

                            <div class="stat-card">
                                <div class="stat-icon warning">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-label">Agendados</div>
                                    <div class="stat-value" id="stat-scheduled">0</div>
                                </div>
                            </div>

                            <div class="stat-card">
                                <div class="stat-icon danger">
                                    <i class="fas fa-times-circle"></i>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-label">Expirados</div>
                                    <div class="stat-value" id="stat-expired">0</div>
                                </div>
                            </div>
                        </div>

                        <!-- Charts Section -->
                        <div class="charts-section">
                            <div class="chart-card">
                                <div class="chart-header">
                                    <h3>Envios por Hora</h3>
                                </div>
                                <canvas id="sendChart"></canvas>
                            </div>

                            <div class="chart-card">
                                <div class="chart-header">
                                    <h3>Status dos Anúncios</h3>
                                </div>
                                <canvas id="statusChart"></canvas>
                            </div>
                        </div>

                        <!-- Recent Activity -->
                        <div class="activity-section">
                            <div class="activity-card">
                                <div class="activity-header">
                                    <h3>Atividade Recente</h3>
                                </div>
                                <div id="recent-activity" class="activity-list">
                                    <div class="activity-empty">
                                        <i class="fas fa-inbox"></i>
                                        <p>Nenhuma atividade recente</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Server Info -->
                        <div class="server-info-section">
                            <div class="server-card">
                                <div class="server-header">
                                    <h3>Informações do Servidor</h3>
                                </div>
                                <div class="server-details">
                                    <div class="detail-item">
                                        <span class="detail-label">Servidor</span>
                                        <span id="server-name" class="detail-value">--</span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="detail-label">Membros</span>
                                        <span id="server-members" class="detail-value">--</span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="detail-label">Canais</span>
                                        <span id="server-channels" class="detail-value">--</span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="detail-label">Emojis</span>
                                        <span id="server-emojis" class="detail-value">--</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Announcements Page -->
                <div id="announcements-page" class="page">
                    <div class="announcements-container">
                        <div class="announcements-header">
                            <div class="search-box">
                                <i class="fas fa-search"></i>
                                <input type="text" id="search-ann" placeholder="Buscar anúncio...">
                            </div>
                            <button id="new-ann-btn" class="btn-primary">
                                <i class="fas fa-plus"></i> Novo Anúncio
                            </button>
                        </div>
                        <div id="announcements-list" class="announcements-list">
                            <!-- Anúncios renderizados dinamicamente -->
                        </div>
                    </div>
                </div>

                <!-- Create/Edit Page -->
                <div id="create-page" class="page">
                    <div class="editor-header">
                        <h2 id="current-ann-title">Novo Anúncio</h2>
                        <div class="editor-actions">
                            <button id="delete-btn" class="btn-danger" style="display:none;">
                                <i class="fas fa-trash"></i> Deletar
                            </button>
                            <button id="save-btn" class="btn-primary">
                                <i class="fas fa-save"></i> Salvar
                            </button>
                            <button id="send-now-btn" class="btn-success">
                                <i class="fas fa-paper-plane"></i> Enviar Agora
                            </button>
                        </div>
                    </div>
                    <div class="editor-layout">
                        <div class="config-pane">
                            <!-- Seção: Informações Básicas -->
                            <div class="section-card">
                                <div class="section-title">
                                    <span><i class="fas fa-info-circle"></i> Informações</span>
                                    <label class="switch">
                                        <input type="checkbox" id="ann-active" checked>
                                        <span class="slider round"></span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label>Título do Anúncio</label>
                                    <input type="text" id="ann-title" class="custom-input" placeholder="Nome da campanha">
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Data de Início</label>
                                        <input type="datetime-local" id="ann-start-date" class="custom-input">
                                    </div>
                                    <div class="form-group">
                                        <label>Data de Vencimento</label>
                                        <input type="datetime-local" id="ann-expiry-date" class="custom-input">
                                    </div>
                                </div>
                            </div>

                            <!-- Seção: Agendamento -->
                            <div class="section-card">
                                <div class="section-title"><i class="fas fa-calendar"></i> Agendamento</div>
                                <div class="form-group">
                                    <label>Canal de Destino</label>
                                    <select id="ann-channel" class="custom-select"></select>
                                </div>
                                <div class="form-group">
                                    <label>Modo de Envio</label>
                                    <div class="mode-selector">
                                        <button class="mode-btn active" data-mode="smart">
                                            <i class="fas fa-wand-sparkles"></i>
                                            <span>Smart</span>
                                        </button>
                                        <button class="mode-btn" data-mode="interval">
                                            <i class="fas fa-repeat"></i>
                                            <span>Intervalo</span>
                                        </button>
                                        <button class="mode-btn" data-mode="fixed">
                                            <i class="fas fa-clock"></i>
                                            <span>Fixo</span>
                                        </button>
                                    </div>
                                    <input type="hidden" id="ann-schedule-type" value="smart">
                                </div>

                                <div id="smart-info" class="info-box">
                                    <i class="fas fa-info-circle"></i>
                                    O bot enviará 3 vezes ao dia em horários aleatórios entre 08:00 e 22:00.
                                </div>

                                <div id="interval-config" style="display:none;">
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label>Horas</label>
                                            <input type="number" id="ann-interval-hours" value="1" min="0" class="custom-input">
                                        </div>
                                        <div class="form-group">
                                            <label>Minutos</label>
                                            <input type="number" id="ann-interval-minutes" value="0" min="0" max="59" class="custom-input">
                                        </div>
                                    </div>
                                </div>

                                <div id="fixed-config" class="form-group" style="display:none;">
                                    <label>Horários (ex: 14:00, 19:30)</label>
                                    <input type="text" id="ann-fixed-times" placeholder="10:00, 15:00, 22:00" class="custom-input">
                                </div>
                            </div>

                            <!-- Seção: Conteúdo -->
                            <div class="section-card">
                                <div class="section-title"><i class="fas fa-pen-to-square"></i> Conteúdo</div>
                                <div class="form-group">
                                    <label>Título do Embed</label>
                                    <input type="text" id="embed-title" class="custom-input">
                                </div>
                                <div class="form-group">
                                    <label>Descrição</label>
                                    <div class="editor-container">
                                        <div class="toolbar">
                                            <button onclick="format('bold')" title="Negrito"><i class="fas fa-bold"></i></button>
                                            <button onclick="format('italic')" title="Itálico"><i class="fas fa-italic"></i></button>
                                            <button onclick="format('underline')" title="Sublinhado"><i class="fas fa-underline"></i></button>
                                            <div class="emoji-picker-container">
                                                <button type="button" id="emoji-btn" title="Emojis"><i class="far fa-smile"></i></button>
                                                <div id="emoji-picker" class="emoji-picker" style="display:none;">
                                                    <div class="emoji-picker-header">
                                                        <span>Emojis do Servidor</span>
                                                        <div class="emoji-filters">
                                                            <button class="emoji-filter active" data-filter="all">Todos</button>
                                                            <button class="emoji-filter" data-filter="static">Estáticos</button>
                                                            <button class="emoji-filter" data-filter="animated">Animados</button>
                                                        </div>
                                                    </div>
                                                    <div id="emoji-picker-grid" class="emoji-picker-grid"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <textarea id="embed-desc" rows="6" class="custom-textarea" placeholder="Descreva o anúncio aqui..."></textarea>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Cor Lateral</label>
                                        <input type="color" id="embed-color" value="#5865f2" class="color-input">
                                    </div>
                                    <div class="form-group">
                                        <label>Thumbnail (URL)</label>
                                        <input type="text" id="embed-thumb" class="custom-input" placeholder="https://...">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Banner Principal (URL)</label>
                                    <input type="text" id="embed-image" class="custom-input" placeholder="https://...">
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Rodapé</label>
                                        <input type="text" id="embed-footer-text" class="custom-input">
                                    </div>
                                    <div class="form-group">
                                        <label>Ícone Rodapé (URL)</label>
                                        <input type="text" id="embed-footer-icon" class="custom-input" placeholder="https://...">
                                    </div>
                                </div>
                            </div>

                            <!-- Seção: Campos -->
                            <div class="section-card">
                                <div class="section-title">
                                    <span><i class="fas fa-layer-group"></i> Campos</span>
                                    <button id="add-field-btn" class="btn-small"><i class="fas fa-plus"></i></button>
                                </div>
                                <div id="fields-container" class="fields-container"></div>
                            </div>

                            <!-- Seção: Botões -->
                            <div class="section-card">
                                <div class="section-title">
                                    <span><i class="fas fa-square-check"></i> Botões</span>
                                    <button id="add-button-btn" class="btn-small"><i class="fas fa-plus"></i></button>
                                </div>
                                <div id="buttons-container" class="buttons-container"></div>
                            </div>

                            <!-- Seção: Camuflagem -->
                            <div class="section-card">
                                <div class="section-title">
                                    <span><i class="fas fa-user-ninja"></i> Camuflagem</span>
                                    <label class="switch">
                                        <input type="checkbox" id="cam-mode">
                                        <span class="slider round"></span>
                                    </label>
                                </div>
                                <div id="cam-config" class="cam-body" style="display:none;">
                                    <div class="form-group">
                                        <label>Nome</label>
                                        <input type="text" id="cam-name" class="custom-input" placeholder="Nome do vendedor">
                                    </div>
                                    <div class="form-group">
                                        <label>Avatar URL</label>
                                        <input type="text" id="cam-avatar" class="custom-input" placeholder="https://...">
                                    </div>
                                </div>
                            </div>

                            <!-- Seção: Ações -->
                            <div class="section-card actions-card">
                                <button id="save-btn" class="btn-success btn-block">
                                    <i class="fas fa-save"></i> Salvar Anúncio
                                </button>
                                <button id="send-now-btn" class="btn-primary btn-block">
                                    <i class="fas fa-paper-plane"></i> Enviar Agora
                                </button>
                                <button id="delete-btn" class="btn-danger btn-block">
                                    <i class="fas fa-trash"></i> Excluir
                                </button>
                            </div>
                        </div>

                        <!-- Preview -->
                        <div class="preview-pane sticky-preview">
                            <div class="preview-header">
                                <div class="preview-title">
                                    <i class="fas fa-eye"></i> Preview Discord
                                </div>
                                <div class="preview-toggle">
                                    <button id="preview-pc" class="toggle-btn active" title="Visualização PC">
                                        <i class="fas fa-desktop"></i>
                                    </button>
                                    <button id="preview-mobile" class="toggle-btn" title="Visualização Mobile">
                                        <i class="fas fa-mobile-alt"></i>
                                    </button>
                                </div>
                            </div>
                            <div id="discord-preview-container" class="discord-preview pc-view">
                                <div class="d-msg">
                                    <img id="p-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" class="d-avatar">
                                    <div class="d-body">
                                        <div class="d-user">
                                            <span id="p-name" class="d-username">Bot de Anúncios</span>
                                            <span class="d-tag">BOT</span>
                                            <span class="d-date">Hoje às 12:00</span>
                                        </div>
                                        <div id="p-embed" class="d-embed">
                                            <div class="d-embed-wrapper">
                                                <div id="p-color" class="d-color"></div>
                                                <div class="d-content">
                                                    <div class="d-text">
                                                        <div id="p-title" class="d-title">Título do Anúncio</div>
                                                        <div id="p-desc" class="d-desc">Descrição do anúncio aparecerá aqui...</div>
                                                        <div id="p-fields" class="d-fields"></div>
                                                    </div>
                                                    <img id="p-thumb" class="d-thumb" style="display:none;">
                                                </div>
                                                <img id="p-image" class="d-image" style="display:none;">
                                                <div id="p-buttons" class="d-buttons"></div>
                                                <div class="d-footer">
                                                    <img id="p-footer-icon" class="d-f-icon" style="display:none;">
                                                    <span id="p-footer-text"></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Settings Page -->
                <div id="settings-page" class="page">
                    <div class="settings-container">
                        <div class="settings-card">
                            <h2>Configurações Gerais</h2>
                            <div class="form-group">
                                <label>ID do Servidor Discord</label>
                                <input type="text" id="setting-guild-id" class="custom-input" readonly>
                            </div>
                            <div class="form-group">
                                <label>Token do Bot</label>
                                <input type="password" id="setting-bot-token" class="custom-input" placeholder="••••••••••••••••">
                            </div>
                            <button class="btn-primary">Salvar Configurações</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <button id="scroll-to-preview" class="mobile-only floating-preview-btn" title="Ver Preview">
        <i class="fas fa-eye"></i>
    </button>

    <script src="script.js"></script>
</body>
</html>
